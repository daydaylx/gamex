<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Debug Test</title>
  <style>
    body { font-family: monospace; padding: 20px; background: #0f172a; color: #f8fafc; }
    .success { color: #10b981; }
    .error { color: #ef4444; }
    pre { background: #1e293b; padding: 10px; border-radius: 4px; }
  </style>
</head>
<body>
  <h1>Frontend Debug Test</h1>
  <div id="results"></div>

  <script>
    const results = document.getElementById('results');

    function log(msg, isError = false) {
      const div = document.createElement('div');
      div.className = isError ? 'error' : 'success';
      div.textContent = (isError ? '❌ ' : '✓ ') + msg;
      results.appendChild(div);
    }

    // Test 1: Check if $ function works
    try {
      const $ = (id) => document.getElementById(id);
      const testEl = $('results');
      if (testEl) {
        log('$ function works correctly');
      } else {
        log('$ function failed to find element', true);
      }
    } catch (e) {
      log('$ function error: ' + e.message, true);
    }

    // Test 2: Check API function
    try {
      async function testApi() {
        const response = await fetch('/api/templates');
        const data = await response.json();
        log('API call successful, got ' + data.length + ' templates');

        const pre = document.createElement('pre');
        pre.textContent = JSON.stringify(data, null, 2);
        results.appendChild(pre);
      }
      testApi().catch(e => log('API error: ' + e.message, true));
    } catch (e) {
      log('API test error: ' + e.message, true);
    }

    // Test 3: Check button click
    const testBtn = document.createElement('button');
    testBtn.textContent = 'Click Me';
    testBtn.style.cssText = 'margin: 10px 0; padding: 10px; cursor: pointer;';
    testBtn.onclick = () => log('Button click works!');
    results.appendChild(testBtn);

    log('All tests initialized');
  </script>
</body>
</html>
